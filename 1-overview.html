<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

    <title>Microbuilder</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Customizable and extensible toolkit for transforming lightweight markup languages to various types of output formats, written in Scala" />
    <meta name="keywords" content="scala, text, markup, markdown, restructuredtext, parser, transformer, html, template engine, site generation, open-source" />

    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">

</head>

<body data-spy="scroll" data-target=".toc" data-offset="200">


<div class="container">

    <!-- Docs nav
    ================================================== -->
    <div class="row">
        <div class="span4 toc" >

            <ul class="nav nav-list affix">
                <div class="toc">
                  <ul>
                    <li>
                      <p class="toc level1 active">Overview</p>
                      <ul>
                        <li><a class="toc level2" href="#motive">Motive</a></li>
                        <li><a class="toc level2" href="#how-microbuilder-works">How Microbuilder works</a></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">Microbuilder Interface Definition Language</p>
                      <ul>
                        <li><a class="toc level2" href="2-microbuilder-interface-definition-language/1-concepts.html">Concepts</a></li>
                        <li>
                          <p><a class="toc level2" href="2-microbuilder-interface-definition-language/2-interface-definition.html">Interface definition</a></p>
                          <ul>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/2-interface-definition.html#package-and-directory-layout">Package and directory layout</a></li>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/2-interface-definition.html#interfaces-and-methods">Interfaces and methods</a></li>
                          </ul>
                        </li>
                        <li>
                          <p><a class="toc level2" href="2-microbuilder-interface-definition-language/3-json-schema.html">JSON schema</a></p>
                          <ul>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/3-json-schema.html#request-content-json-schema">Request content JSON schema</a></li>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/3-json-schema.html#response-content-json-schema">Response content JSON schema</a></li>
                            <li>
                              <p><a class="toc level3" href="2-microbuilder-interface-definition-language/3-json-schema.html#built-in-types-for-json-schema">Built-in types for JSON schema</a></p>
                              <ul>
                                <li><a class="toc level4" href="2-microbuilder-interface-definition-language/3-json-schema.html#primary-types">Primary types</a></li>
                                <li><a class="toc level4" href="2-microbuilder-interface-definition-language/3-json-schema.html#array-types">Array types</a></li>
                              </ul>
                            </li>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/3-json-schema.html#custom-class-types">Custom class types</a></li>
                          </ul>
                        </li>
                        <li>
                          <p><a class="toc level2" href="2-microbuilder-interface-definition-language/4-annotations.html">Annotations</a></p>
                          <ul>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/4-annotations.html#id-1"><code>@:structuralFailure</code></a></li>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/4-annotations.html#1"><code>@:nativeGen</code></a></li>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/4-annotations.html#2"><code>@:route</code></a></li>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/4-annotations.html#3"><code>@:requestContentType</code></a></li>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/4-annotations.html#4"><code>@:responseContentType</code></a></li>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/4-annotations.html#5"><code>@:requestHeader</code></a></li>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/4-annotations.html#6"><code>@:final</code></a></li>
                            <li><a class="toc level3" href="2-microbuilder-interface-definition-language/4-annotations.html#7"><code>@:transient</code></a></li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">Client-side SDKs</p>
                      <ul>
                        <li>
                          <p><a class="toc level2" href="3-client-side-sdks/1-for-scala-client.html">For Scala client</a></p>
                          <ul>
                            <li><a class="toc level3" href="3-client-side-sdks/1-for-scala-client.html#requirement">Requirement</a></li>
                            <li>
                              <p><a class="toc level3" href="3-client-side-sdks/1-for-scala-client.html#create-the-sdk">Create the SDK</a></p>
                              <ul>
                                <li><a class="toc level4" href="3-client-side-sdks/1-for-scala-client.html#sbt-configuration-for-sdk">Sbt configuration for SDK</a></li>
                                <li><a class="toc level4" href="3-client-side-sdks/1-for-scala-client.html#midl-api-definition">MIDL API definition</a></li>
                                <li><a class="toc level4" href="3-client-side-sdks/1-for-scala-client.html#midl-json-schema-definition">MIDL JSON schema definition</a></li>
                              </ul>
                            </li>
                            <li><a class="toc level3" href="3-client-side-sdks/1-for-scala-client.html#publish-the-sdk">Publish the SDK</a></li>
                            <li><a class="toc level3" href="3-client-side-sdks/1-for-scala-client.html#dependency-settings-for-client-application">Dependency settings for Client application</a></li>
                            <li><a class="toc level3" href="3-client-side-sdks/1-for-scala-client.html#use-sdk">Use SDK</a></li>
                          </ul>
                        </li>
                        <li><a class="toc level2" href="3-client-side-sdks/2-for-javascript-client.html">For JavaScript client</a></li>
                        <li><a class="toc level2" href="3-client-side-sdks/3-for-other-language-client.html">For other language client</a></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">Server-side stubs</p>
                      <ul>
                        <li><a class="toc level2" href="4-server-side-stubs/1-for-scala-server.html">For Scala server</a></li>
                        <li><a class="toc level2" href="4-server-side-stubs/2-for-other-language-server.html">For other language server</a></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">Generating Documentation</p>
                      <ul>
                        <li><a class="toc level2" href="5-generating-documentation/1-haxedoc.html">Haxedoc</a></li>
                        <li><a class="toc level2" href="5-generating-documentation/2-swagger-ui.html">Swagger UI</a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
            </ul>

        </div>

        <div class="span8" id="top">

            
            <h1 id="overview" class="title">Overview</h1>
            <p><strong>Microbuilder</strong> is a toolkit that helps you build system across micro-services
            implemented in various languages communicating via RESTful JSON API.</p>
            
            <h2 id="motive" class="section">Motive</h2>
            <p>We, some guys in <a href="http://thoughtworks.com/">ThoughtWorks</a>, are working for a client
            helping them maintain a large legacy system.</p>
            <p>The legacy system were one single J2EE application that contains hundreds of thousands of lines of source code.
            The application was tightly coupled and very hard to add new feature.</p>
            <p>In the past couple of years,
            we turned the system into <a href="http://martinfowler.com/articles/microservices.html">Microservice Architecture</a>.
            We experienced a huge improvement in productivity and maintainability during the process.
            Nowaday, there are hundreds of microservices in the system,
            and we are continuously creating new microservices for new business domains.</p>
            <p>These microservices are written in different programming languages
            like Scala, Ruby, Java, or JavaScript,
            and usually are maintained by different teams spread on different countries.</p>
            <p>As a result, the communication between people became one of the most serious topics in our system,
            and Microbuilder is designed for communication.</p>
            
            <h2 id="how-microbuilder-works" class="section">How Microbuilder works</h2>
            <p>We designed a language to define RESTful JSON API,
            named MIDL (Microbuilder Interface Definition Language).</p>
            <p>You can define data structures and endpoints in object-oriented syntax,
            with a little annotations like <code>@:route</code>.</p>
            <pre><code>@:final class UserProfile {
  public function new() {}
  public var name:String;
  public var email:String;
  public var address:String;
}

interface IUserService {
  @:route(&quot;GET&quot;, &quot;users/{id}&quot;)
  function getUser(id:String):UserProfile;
}</code></pre>
            <p>Developers could perform following tasks around MIDL when building microservices:</p>
            <ol class="arabic">
              <li>service developers use MIDL to define their specific domain API.</li>
              <li>service developers generate API Documentation from MIDL.</li>
              <li>service developers generate server-side stubs from MIDL for target languages (including Scala, JavaScript, Java, C#, PHP, C++, ActionScript 3, NekoVM, and Python), then implement the RESTful service with the help of the stubs.</li>
              <li>service developers generate client-side SDK from MIDL for target languages, and publish the SDK.</li>
              <li>service users use the client-side SDK in an application, in order to call the service in a RPC flavor.</li>
            </ol>
            <p>Note that every task listed above is optional.
            For example, you may want to create MIDL to fit the current API of a legacy service,
            and generate client-side SDK and documentation for it,
            so that other applications will be easy to communicate with the legacy service.
            However, you will not generate server-side stubs
            because you already have a service implementation before.</p>

        </div>
    </div>

</div>

</body></html>
